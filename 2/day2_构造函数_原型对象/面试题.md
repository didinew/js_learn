	•	如果一个对象有嵌套对象，user.info.name 和 user['info']['name'] 的区别？

本质结论先给你一句 面试标准答案：

在 JavaScript 中，user.info.name 和 user['info']['name'] 在取值结果上是完全等价的，区别只在「语法能力、使用场景、可维护性」上，而不是性能或原理。

下面我按 你正在系统学 JS 原理 & 面试 的节奏，给你拆到「能反杀面试官」的程度 👇


⸻

一、底层本质（一定要先说清）

JS 对象的 本质是「键值对 Map」：

const user = {
  info: {
    name: 'Tom'
  }
}

访问属性时：

user.info.name
user['info']['name']

都会被 JS 引擎转成：

“用字符串 key 去对象上查找属性”

'info' → { name: 'Tom' }
'name' → 'Tom'

👉 点运算符和中括号运算符，本质都是属性查找

⸻

二、两种写法的「核心区别」

1️⃣ 点语法（.）

user.info.name

✅ 特点：
	•	语法简洁、可读性最好
	•	编译阶段可做静态分析
	•	只能访问 合法标识符

❌ 限制：
	•	属性名 不能是变量
	•	属性名 不能包含特殊字符

    user.info.name     // ✅
user.user-name     // ❌ 语法错误
user['user-name'] // ✅


⸻

2️⃣ 中括号语法（[]）

user['info']['name']

✅ 特点：
	•	属性名可以是变量
	•	可以访问任意字符串 key
	•	支持动态访问

const key = 'info'
user[key].name // ✅

const prop = 'user-name'
user[prop] // ✅

❌ 缺点：
	•	可读性略差
	•	写错字符串不易被发现（无法静态检查）

⸻

三、最重要的面试陷阱点（90% 人会翻车）

❌ 常见错误理解
user[key].name

🧠 很多人以为等价于：
user.key.name // ❌ 完全不是

👉 实际等价的是：
user['key'].name

⸻

🔥 面试官追问必杀题
const key = 'info'
console.log(user.key.name)
console.log(user[key].name)
✅ 正确答案：
原因一句话反杀：

. 后面永远是「字面量属性名」，[] 才会解析变量。

⸻

四、在真实项目里的选择规则（工程级）

✅ 用 . 的场景（90%）
user.info.name
	•	属性名固定
	•	结构明确
	•	Vue / React 模板、JS 代码首选

⸻

✅ 必须用 [] 的场景

1️⃣ 动态属性
function getValue(obj, key) {
  return obj[key]
}

2️⃣ 后端返回不规范字段
const data = {
  'user-name': 'Tom',
  'user_age': 18
}
data['user-name']

3️⃣ 遍历对象

for (const key in user) {
  console.log(user[key])
}
五、性能有没有区别？（高分补充）

👉 几乎没有差异
	•	都是属性查找
	•	V8 内部会统一优化
	•	性能差异 ≈ 忽略不计

📌 真正影响性能的是：
	•	属性是否稳定（hidden class）
	•	是否频繁增删属性
	•	是否触发原型链查找

⸻

六、面试「一句话满分总结」

你可以直接背这一段 👇

user.info.name 和 user['info']['name'] 在结果和底层原理上完全一致，都是通过字符串 key 访问对象属性。
区别在于：点语法只能写死属性名，可读性更好；中括号支持动态 key 和任意字符串属性名，适合变量访问和不规范字段。
实际项目中固定结构优先用点语法，动态访问必须用中括号。

⸻


