	â€¢	ğŸ”¥ forâ€¦in / Object.keys + è®¿é—®é™·é˜±

â¸»

ğŸ§¨ é™·é˜± 1ï¼šforâ€¦in éå†åˆ°â€œä½ æ²¡å®šä¹‰çš„å±æ€§â€

â“é¢˜ç›®

Object.prototype.age = 18

const user = {
  name: 'Tom'
}

for (const key in user) {
  console.log(key, user[key])
}
ğŸ¤¯ ç›´è§‰

åªä¼šæ‰“å° nameï¼Ÿ

â¸»

âœ… å®é™…ç»“æœ
name Tom
age 18

â¸»

ğŸ’¥ æ ¸å¿ƒåŸå› ï¼ˆå¿…è€ƒï¼‰
	â€¢	forâ€¦in ä¼šéå†å¯¹è±¡è‡ªèº« + åŸå‹é“¾ä¸Šçš„å¯æšä¸¾å±æ€§
	â€¢	Object.prototype.age æ˜¯å¯æšä¸¾çš„

â¸»

âŒ å¸¸è§é”™è¯¯å†™æ³•ï¼ˆçº¿ä¸Šäº‹æ•…ï¼‰

for (const key in data) {
  render(data[key]) // ğŸ’¥ å¤šæ¸²æŸ“ä¸€ä¸ª age
}

â¸»

âœ… æ­£ç¡®é˜²å¾¡å†™æ³•
for (const key in user) {
  if (Object.prototype.hasOwnProperty.call(user, key)) {
    console.log(key, user[key])
  }
}
ğŸ¯ é¢è¯•åæ€ä¸€å¥è¯

forâ€¦in ä¼šéå†åŸå‹é“¾å±æ€§ï¼Œå¿…é¡»é…åˆ hasOwnProperty ä½¿ç”¨ã€‚

â¸»

â¸»

ğŸ§¨ é™·é˜± 2ï¼šObject.keys + undefinedï¼ˆ90% æ²¡æ„è¯†åˆ°ï¼‰

â“é¢˜ç›®
const user = Object.create({
  age: 18
})

user.name = 'Tom'

Object.keys(user).forEach(key => {
  console.log(key, user[key])
})
ğŸ¤¯ ç›´è§‰

åº”è¯¥èƒ½æ‹¿åˆ° name å’Œ ageï¼Ÿ

â¸»

âœ… å®é™…ç»“æœ
name Tom

â¸»

ğŸ’¥ æ ¸å¿ƒåŸå› 
	â€¢	Object.keys åªè¿”å›å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾å±æ€§
	â€¢	ä¸ä¼šéå†åŸå‹é“¾

  age åœ¨åŸå‹ä¸Š âŒ

â¸»

ğŸš¨ æ˜“è¸©å‘ç‚¹
Object.keys(user).length === 1
ä½†ä½ ä»¥ä¸ºæœ‰ä¸¤ä¸ªå­—æ®µ â†’ é€»è¾‘ bug

â¸»

ğŸ¯ é¢è¯•åæ€ä¸€å¥è¯

Object.keys åªå…³å¿ƒå¯¹è±¡è‡ªèº«å±æ€§ï¼Œä¸åŒ…å«åŸå‹é“¾ã€‚

â¸»

â¸»

ğŸ§¨ é™·é˜± 3ï¼šforâ€¦in + ç‚¹è¯­æ³•ï¼ˆéšè—å¾—æœ€æ·±ï¼‰

â“é¢˜ç›®
const user = {
  name: 'Tom',
  age: 18
}

for (const key in user) {
  console.log(user.key)
}

ğŸ¤¯ ç›´è§‰

key æ˜¯ name / ageï¼Œåº”è¯¥èƒ½æ‰“å°å€¼ï¼Ÿ

â¸»

âœ… å®é™…ç»“æœ
undefined
undefined
ğŸ’¥ æ ¸å¿ƒåŸå› ï¼ˆé«˜é¢‘ï¼‰
user.key  // æ°¸è¿œè®¿é—®çš„æ˜¯ "key" è¿™ä¸ªå±æ€§
è€Œä¸æ˜¯ï¼š
user[name]
user[age]


â¸»

âœ… æ­£ç¡®å†™æ³•
for (const key in user) {
  console.log(user[key])
}

â¸»

ğŸ¯ é¢è¯•åæ€ä¸€å¥è¯

forâ€¦in é‡Œçš„ key æ˜¯å˜é‡ï¼Œè®¿é—®å±æ€§å¿…é¡»ç”¨ä¸­æ‹¬å·ã€‚


â¸»

ğŸ”¥ ç»ˆæå¯¹ç…§è¡¨ï¼ˆå»ºè®®èƒŒï¼‰

æ–¹æ³•
æ˜¯å¦éå†åŸå‹
æ˜¯å¦åªéå†è‡ªèº«
æ˜¯å¦è¦ hasOwnProperty
forâ€¦in
âœ…
âŒ
âœ… å¿…é¡»
Object.keys
âŒ
âœ…
âŒ
Object.values
âŒ
âœ…
âŒ
Object.entries
âŒ
âœ…
âŒ


â¸»

ğŸš€ é¢è¯•å®˜ç»§ç»­è¿½é—®æ—¶ï¼Œä½ å¯ä»¥ä¸»åŠ¨åŠ ä¸€å¥ï¼ˆåŠ åˆ†ï¼‰

å®é™…é¡¹ç›®ä¸­å¦‚æœåªæ˜¯éå†è‡ªèº«å±æ€§ï¼Œä¼˜å…ˆç”¨ Object.keys / entriesï¼›
å¦‚æœå¿…é¡»ç”¨ forâ€¦inï¼Œä¸€å®šè¦æ˜¾å¼è¿‡æ»¤åŸå‹é“¾å±æ€§ï¼Œé¿å…éšå½¢ bugã€‚