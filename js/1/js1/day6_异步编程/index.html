<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

//         âœ… ä»»åŠ¡ 1ï¼šé¡ºåºåˆ¤æ–­

// å†™å‡ºè¾“å‡ºç»“æœï¼ˆä¸è¿è¡Œï¼Œå…ˆæƒ³ï¼‰ğŸ‘‡
console.log('A')

setTimeout(() => {
  console.log('B')
}, 0)

Promise.resolve().then(() => {
  console.log('C')
})

console.log('D')
// è¾“å‡ºé¡ºåºï¼šA D C B

// âœ… ä»»åŠ¡ 2ï¼šPromise æ”¹ async/await
function fetchData() {
  return new Promise(resolve => {
    setTimeout(() => {
      resolve('data')
    }, 1000)
  })
}

// ç”¨ async/await æ”¹å†™å¹¶æ‰“å°ç»“æœ
async function fetachDataAsync() {
    const data = await fetchData()
    console.log(data) // ç­‰å¾… 1 ç§’åè¾“å‡º 'data'
}

fetachDataAsync()

// âœ… ä»»åŠ¡ 3ï¼šé”™è¯¯æ•è·ï¼ˆé‡ç‚¹ï¼‰
async function test() {
    try{
        await Promise.reject('error')
    } catch (error) {
        console.log(error)
    }
  // å¦‚ä½•æ•è· Promise rejectï¼Ÿ
}

    </script>
</body>

</html>