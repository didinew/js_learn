1️⃣ props 可以传什么类型？能修改吗？

props 是组件的外部接口，用于父组件向子组件传递数据。

可以传的类型：
	•	基本类型：string, number, boolean, null, undefined
	•	对象/数组：Object, Array
	•	函数：回调函数，方便子组件调用父组件方法
	•	React 元素或组件：例如 <Child /> 或 JSX
	•	其他任意值：比如 Symbol、Map、Set 等

能否修改？
	•	不能直接修改：props 是只读的，如果在子组件中直接修改会报错（严格模式下）或导致不可预期行为
	•	可通过回调修改：子组件通过父组件传来的函数（callback）通知父组件修改状态

示例：

function Child({ count, onIncrement }) {
  // ❌ 不要直接修改 count
  // count += 1;

  return <button onClick={() => onIncrement()}>增加 {count}</button>;
}


⸻

2️⃣ 父子组件如何通信？

React 中父子组件通信遵循单向数据流（单向绑定）：

父 → 子：
	•	使用 props 传递数据

	<Child message="Hello" />


	子 → 父：
	•	父组件传回调函数给子组件，子组件调用回调传值

	function Parent() {
  const [msg, setMsg] = useState("");
  return <Child onSend={(value) => setMsg(value)} />;
}
function Child({ onSend }) {
  return <button onClick={() => onSend("Hi Parent")}>发送</button>;
}

兄弟组件通信：
	•	通过 共同的父组件 state 传递
	•	或使用 Context / Redux / Zustand / Recoil 等全局状态管理

⸻

3️⃣ key 的真正作用是什么？

key 是 React 用于识别虚拟 DOM 中元素身份的标识。
它的作用：
	1.	优化列表渲染性能
	•	React 会通过 key 来判断元素是否复用或更新，而不是每次都销毁重建
	2.	保持组件状态
	•	相同 key 的组件会保留内部状态，key 变化时才会卸载并重新创建

原理示意：

旧列表: [A(key=1), B(key=2), C(key=3)]
新列表: [C(key=3), A(key=1), D(key=4)]
React 会根据 key 重新排列，而不是全部销毁重建


⸻

4️⃣ 为什么 index 不推荐做 key？
	•	问题：当列表项顺序变化、删除或插入时，使用 index 会导致组件复用错误，状态错乱
	•	示例：

	const list = ["A", "B", "C"];
list.splice(1, 1); // 删除 B
// 如果用 index 作为 key
// 原 B 的组件可能被复用到 C 上，状态错乱

	•	推荐做法：使用 唯一稳定的 id 或其他唯一标识符

⸻

✅ 总结：
	•	props 传数据，只读，可传函数或对象
	•	父子通信：props + 回调
	•	key：保持组件 identity，优化渲染
	•	index 做 key：只适合 静态且不会重排的列表