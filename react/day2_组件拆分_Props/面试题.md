
⸻

1️⃣ 为什么要拆组件？

组件拆分是前端工程化和维护性的核心手段，主要原因有几个：

① 提高复用性
	•	把一个复杂页面拆成独立组件后，可以在多个地方复用。
	•	例如，按钮、表单输入框、列表项等组件，做一次就能多处使用。

② 降低复杂度
	•	页面逻辑越复杂，单个组件越大，理解和维护难度越高。
	•	拆分后，每个组件只关注自己的功能，代码清晰。

③ 提高可测试性
	•	小组件可以单独写单元测试，降低 bug 风险。

④ 提升性能（可选）
	•	可以通过 React.memo、PureComponent 或 Vue v-memo 控制渲染，减少不必要的重复渲染。

总结：

“一个组件只做一件事，一件事做精”，便于复用、维护和性能优化。

⸻

2️⃣ props 是什么？能不能改？

props 是组件对外的 只读属性，父组件通过它向子组件传递数据。

function Child({ name }) {
  return <div>Hello, {name}</div>;
}

// 父组件
<Child name="Di Di" />

特点：
	1.	单向数据流：父 → 子，子不能直接修改父传过来的 props。
	2.	只读：子组件内部不要直接修改 props，否则会报错或者出现不可预期行为。
	3.	可以传函数：父可以通过 props 传函数，让子调用来通知父（间接修改状态）。

能改吗？
	•	直接修改 props ❌ 不允许。
	•	变通方法 ✅
	•	子组件内部用 useState 或 ref 拷贝 props，然后修改自己的内部状态。
	•	父组件通过回调函数修改 props 来源状态。

	function Child({ name, onChange }) {
  const [localName, setLocalName] = React.useState(name);
  return <input value={localName} onChange={e => { setLocalName(e.target.value); onChange(e.target.value); }} />;
}


⸻

3️⃣ 父子组件是如何通信的？

React 组件之间通信主要有三种方式：

① 父传子 → props
	•	最常用方式，父组件把数据或函数传给子组件。
	•	单向数据流，易于追踪。

② 子传父 → 回调函数
	•	父组件通过 props 给子组件一个函数，子组件调用这个函数来“通知父组件”。
	function Parent() {
  const [msg, setMsg] = React.useState("");
  return <Child onSend={setMsg} />;
}
function Child({ onSend }) {
  return <button onClick={() => onSend("Hello")}>Send</button>;
}

③ 跨组件 / 非父子 → 状态管理
	•	Redux / Context / Pinia（Vue）/ Zustand 等，用于兄弟组件或任意组件间通信。
	•	适合复杂应用。

总结：
	•	父 → 子：props
	•	子 → 父：回调函数（props）
	•	跨组件：全局状态或 Context
